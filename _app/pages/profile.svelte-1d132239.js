import{Y as K,S as Q,i as T,s as U,e as g,t as d,c as $,a as v,h as k,d as u,g as _,J as h,j,w as L,x as N,f as V,y as M,q as b,o as y,B as C,l as S,k as w,m as E,b as Y,Q as O,p as Z,Z as z,v as A,_ as F,$ as G,n as R,T as W,a0 as X,K as x}from"../chunks/vendor-90dfa8bf.js";/* empty css                    */const ee=()=>{const i=K("__svelte__");return{page:{subscribe:i.page.subscribe},navigating:{subscribe:i.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:i.navigating.subscribe}},session:i.session}},te={subscribe(i){return ee().page.subscribe(i)}};function q(i,l,n){const e=i.slice();return e[2]=l[n],e}function H(i,l,n){const e=i.slice();return e[5]=l[n],e}function I(i){let l,n=i[0].name+"",e;return{c(){l=g("h1"),e=d(n)},l(s){l=$(s,"H1",{});var t=v(l);e=k(t,n),t.forEach(u)},m(s,t){_(s,l,t),h(l,e)},p(s,t){t&1&&n!==(n=s[0].name+"")&&j(e,n)},d(s){s&&u(l)}}}function J(i){let l,n,e;return n=new F({props:{style:"https://bothness.github.io/ons-basemaps/data/style-esri-greyscale.json",location:{bounds:i[0].bbox},interactive:!1,$$slots:{default:[se]},$$scope:{ctx:i}}}),{c(){l=g("div"),L(n.$$.fragment),this.h()},l(s){l=$(s,"DIV",{});var t=v(l);N(n.$$.fragment,t),t.forEach(u),this.h()},h(){V(l,"height","300px",!1)},m(s,t){_(s,l,t),M(n,l,null),e=!0},p(s,t){const o={};t&1&&(o.location={bounds:s[0].bbox}),t&257&&(o.$$scope={dirty:t,ctx:s}),n.$set(o)},i(s){e||(b(n.$$.fragment,s),e=!0)},o(s){y(n.$$.fragment,s),e=!1},d(s){s&&u(l),C(n)}}}function le(i){let l,n;return l=new X({props:{id:"simplified",type:"line",paint:{"line-color":"crimson","line-width":2}}}),{c(){L(l.$$.fragment)},l(e){N(l.$$.fragment,e)},m(e,s){M(l,e,s),n=!0},p:x,i(e){n||(b(l.$$.fragment,e),n=!0)},o(e){y(l.$$.fragment,e),n=!1},d(e){C(l,e)}}}function se(i){let l,n;return l=new G({props:{id:"simplified",type:"geojson",data:i[0].poly,$$slots:{default:[le]},$$scope:{ctx:i}}}),{c(){L(l.$$.fragment)},l(e){N(l.$$.fragment,e)},m(e,s){M(l,e,s),n=!0},p(e,s){const t={};s&1&&(t.data=e[0].poly),s&256&&(t.$$scope={dirty:s,ctx:e}),l.$set(t)},i(e){n||(b(l.$$.fragment,e),n=!0)},o(e){y(l.$$.fragment,e),n=!1},d(e){C(l,e)}}}function P(i){let l,n=i[0].tabs,e=[];for(let s=0;s<n.length;s+=1)e[s]=D(q(i,n,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=S()},l(s){for(let t=0;t<e.length;t+=1)e[t].l(s);l=S()},m(s,t){for(let o=0;o<e.length;o+=1)e[o].m(s,t);_(s,l,t)},p(s,t){if(t&1){n=s[0].tabs;let o;for(o=0;o<n.length;o+=1){const f=q(s,n,o);e[o]?e[o].p(f,t):(e[o]=D(f),e[o].c(),e[o].m(l.parentNode,l))}for(;o<e.length;o+=1)e[o].d(1);e.length=n.length}},d(s){O(e,s),s&&u(l)}}}function B(i){let l,n=i[5]+"",e,s,t=i[2].vals[i[5]].toLocaleString()+"",o;return{c(){l=g("li"),e=d(n),s=d(": "),o=d(t)},l(f){l=$(f,"LI",{});var a=v(l);e=k(a,n),s=k(a,": "),o=k(a,t),a.forEach(u)},m(f,a){_(f,l,a),h(l,e),h(l,s),h(l,o)},p(f,a){a&1&&n!==(n=f[5]+"")&&j(e,n),a&1&&t!==(t=f[2].vals[f[5]].toLocaleString()+"")&&j(o,t)},d(f){f&&u(l)}}}function D(i){let l,n=i[2].key+"",e,s,t,o,f=Object.keys(i[2].vals),a=[];for(let r=0;r<f.length;r+=1)a[r]=B(H(i,f,r));return{c(){l=g("h3"),e=d(n),s=w(),t=g("ul");for(let r=0;r<a.length;r+=1)a[r].c();o=w(),this.h()},l(r){l=$(r,"H3",{});var p=v(l);e=k(p,n),p.forEach(u),s=E(r),t=$(r,"UL",{class:!0});var c=v(t);for(let m=0;m<a.length;m+=1)a[m].l(c);o=E(c),c.forEach(u),this.h()},h(){Y(t,"class","svelte-1bohe7p")},m(r,p){_(r,l,p),h(l,e),_(r,s,p),_(r,t,p);for(let c=0;c<a.length;c+=1)a[c].m(t,null);h(t,o)},p(r,p){if(p&1&&n!==(n=r[2].key+"")&&j(e,n),p&1){f=Object.keys(r[2].vals);let c;for(c=0;c<f.length;c+=1){const m=H(r,f,c);a[c]?a[c].p(m,p):(a[c]=B(m),a[c].c(),a[c].m(t,o))}for(;c<a.length;c+=1)a[c].d(1);a.length=f.length}},d(r){r&&u(l),r&&u(s),r&&u(t),O(a,r)}}}function ae(i){let l,n,e,s,t=i[0].name&&I(i),o=i[0].bbox&&i[0].poly&&J(i),f=i[0].tabs&&P(i);return{c(){t&&t.c(),l=w(),o&&o.c(),n=w(),f&&f.c(),e=S()},l(a){t&&t.l(a),l=E(a),o&&o.l(a),n=E(a),f&&f.l(a),e=S()},m(a,r){t&&t.m(a,r),_(a,l,r),o&&o.m(a,r),_(a,n,r),f&&f.m(a,r),_(a,e,r),s=!0},p(a,[r]){a[0].name?t?t.p(a,r):(t=I(a),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null),a[0].bbox&&a[0].poly?o?(o.p(a,r),r&1&&b(o,1)):(o=J(a),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(R(),y(o,1,1,()=>{o=null}),Z()),a[0].tabs?f?f.p(a,r):(f=P(a),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null)},i(a){s||(b(o),s=!0)},o(a){y(o),s=!1},d(a){t&&t.d(a),a&&u(l),o&&o.d(a),a&&u(n),f&&f.d(a),a&&u(e)}}}function ne(i,l,n){let e;z(i,te,t=>n(1,e=t));let s={};return A(()=>{for(let t of e.url.searchParams.entries())t[0]=="name"?n(0,s[t[0]]=t[1],s):["tabs","poly","bbox"].includes(t[0])&&n(0,s[t[0]]=JSON.parse(atob(t[1])),s);new W.Child({id:"profile",polling:500})}),[s]}class re extends Q{constructor(l){super();T(this,l,ne,ae,U,{})}}export{re as default};
